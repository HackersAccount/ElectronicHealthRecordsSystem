<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Your Dashboard</title>
    <!-- Material-UI CSS -->
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/icon?family=Material+Icons"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/material-components-web@11.0.0/dist/material-components-web.min.css"
    />
    <!-- Your custom CSS styles -->
    <style>
      /* Styling for the sidebar */
      .mdc-drawer {
        width: 240px; /* Set the width of the sidebar */
        background-color: #1976d2; /* Sidebar background color */
        color: white; /* Text color */
        transition: width 0.3s ease;
        z-index: 999; /* Ensure sidebar is above other content */
      }

      .mdc-drawer__content {
        padding-top: 16px; /* Add some padding at the top */
      }

      .mdc-list-item {
        color: white; /* Text color for list items */
      }

      .mdc-list-item:hover {
        background-color: rgba(255, 255, 255, 0.1); /* Hover effect */
      }

      .mdc-top-app-bar--fixed-adjust {
        margin-left: 24px; /* Adjust margin to account for the width of the sidebar */
        transition: margin-left 0.3s ease;
      }

      /* Styling for the sidebar toggle button */
      .mdc-icon-button {
        color: white; /* Button color */
      }

      /* Styling for the main content */
      .mdc-drawer-app-content {
        transition: margin-left 0.3s ease;
      }

      /* Media query for smaller screens */
      @media (max-width: 600px) {
        .mdc-drawer {
          width: 100%; /* Make sidebar full width on smaller screens */
          position: fixed; /* Fix sidebar position on smaller screens */
          top: 0;
          left: -100%; /* Hide sidebar by default on smaller screens */
          height: 100%;
        }

        .mdc-drawer--open {
          left: 0; /* Show sidebar when opened */
        }

        .mdc-top-app-bar--fixed-adjust {
          margin-left: 0; /* Adjust main content margin when sidebar is open */
        }

        .mdc-drawer-app-content.mdc-drawer--open {
          margin-left: 100%; /* Adjust main content margin when sidebar is open */
        }
      }
    </style>
  </head>
  <body>
    <!-- Sidebar -->
    <aside class="mdc-drawer mdc-drawer--dismissible">
      <div class="mdc-drawer__content">
        <nav class="mdc-list">
          <a class="mdc-list-item" href="{% url 'patients_page' %}">
            <span class="mdc-list-item__graphic material-icons">people</span>
            <span class="mdc-list-item__text">Patients</span>
          </a>
          <a class="mdc-list-item" href="{% url 'medication_page' %}">
            <span class="mdc-list-item__graphic material-icons"
              >medical_services</span
            >
            <span class="mdc-list-item__text">Medication</span>
          </a>
          <a class="mdc-list-item" href="{% url 'diagnosis_page' %}">
            <span class="mdc-list-item__graphic material-icons"
              >description</span
            >
            <span class="mdc-list-item__text">Diagnosis</span>
          </a>
        </nav>
      </div>
    </aside>

    <!-- Main content -->
    <div class="mdc-drawer-app-content">
      <!-- Top app bar -->
      <header class="mdc-top-app-bar">
        <div class="mdc-top-app-bar__row">
          <div
            class="mdc-top-app-bar__section mdc-top-app-bar__section--align-start"
          >
            <button
              class="mdc-icon-button material-icons mdc-top-app-bar__navigation-icon"
            >
              menu
            </button>
            <span class="mdc-top-app-bar__title">Your Dashboard</span>
          </div>
        </div>
      </header>

      <!-- Page content -->
      <main class="mdc-top-app-bar--fixed-adjust">
        {% block content %} {% endblock %}
      </main>
    </div>

    <!-- Material-UI JS -->
    <script src="https://cdn.jsdelivr.net/npm/material-components-web@11.0.0/dist/material-components-web.min.js"></script>
    <!-- Your custom JS scripts -->
    <!-- Material-UI JS -->
    <script src="https://cdn.jsdelivr.net/npm/material-components-web@11.0.0/dist/material-components-web.min.js"></script>
    <!-- Your custom JS scripts -->
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        // Retrieve the sidebar state from local storage
        const isSidebarOpen = localStorage.getItem("sidebarOpen") === "true";

        // Function to toggle the sidebar state
        function toggleSidebar() {
          const sidebar = document.querySelector(".mdc-drawer");
          const appContent = document.querySelector(".mdc-drawer-app-content");
          const isOpen = sidebar.classList.contains("mdc-drawer--open");

          if (isOpen) {
            sidebar.classList.remove("mdc-drawer--open");
            appContent.classList.remove("mdc-drawer--open");
            localStorage.setItem("sidebarOpen", "false"); // Update local storage
          } else {
            sidebar.classList.add("mdc-drawer--open");
            appContent.classList.add("mdc-drawer--open");
            localStorage.setItem("sidebarOpen", "true"); // Update local storage
          }
        }

        // Add event listener for the sidebar toggle button
        document
          .querySelector(".mdc-icon-button")
          .addEventListener("click", toggleSidebar);

        // Set the initial sidebar state based on local storage
        if (isSidebarOpen) {
          toggleSidebar();
        }
      });
    </script>

    <!-- <script>
      // Add event listener for the sidebar toggle button
      document
        .querySelector(".mdc-icon-button")
        .addEventListener("click", function () {
          document
            .querySelector(".mdc-drawer")
            .classList.toggle("mdc-drawer--open");
          document
            .querySelector(".mdc-drawer-app-content")
            .classList.toggle("mdc-drawer--open");
        });
    </script> -->
  </body>
</html>
